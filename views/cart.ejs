<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>Košík</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>Váš košík</h1>
    </header>

    <% if (cart.length === 0) { %>
      <p>Košík je prázdný.</p>
    <% } else { %>
        <ul>
            <% cart.forEach(item => { %>
              <li>
                <strong><%= item.name %></strong> – <%= item.quantity %> ks – <%= item.price * item.quantity %> Kč
                <form action="/cart/remove" method="POST" style="display: inline;">
                  <input type="hidden" name="productId" value="<%= item.productId %>">
                  <button type="submit">Odebrat</button>
                </form>
              </li>
            <% }); %>
          </ul>          
    <% } %>
    <form action="/cart/clear" method="POST">
        <button type="submit" style="margin-top: 1rem;">Vyprázdnit košík</button>
    </form>
    <p><strong>Celkem:</strong> 
        <%= cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) %> Kč
    </p>
      
      
    <a href="/products">Zpět na produkty</a>
  </div>
</body>
</html>
